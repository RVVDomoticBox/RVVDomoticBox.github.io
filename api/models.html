<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Models &mdash; RVVDomoticBox 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="RVVDomoticBox 0.0.1 documentation" href="../index.html" />
    <link rel="up" title="API" href="../api.html" />
    <link rel="next" title="Scenario" href="scenario.html" />
    <link rel="prev" title="Kernel" href="kernel.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="scenario.html" title="Scenario"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="kernel.html" title="Kernel"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">RVVDomoticBox 0.0.1 documentation</a> &raquo;</li>
          <li><a href="../api.html" accesskey="U">API</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="models">
<h1>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h1>
<div class="section" id="information">
<h2>Information<a class="headerlink" href="#information" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.Information">
<em class="property">class </em><tt class="descclassname">models.</tt><tt class="descname">Information</tt><big>(</big><em>name</em>, <em>description</em>, <em>info_range</em><big>)</big><a class="headerlink" href="#models.Information" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used to wrap an information made available by a device.</p>
<dl class="method">
<dt id="models.Information.set">
<tt class="descname">set</tt><big>(</big><em>args</em><big>)</big><a class="headerlink" href="#models.Information.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Method enabling the user to change the name, the description and
the location of the device. The args must follow the format given in
device_infos[&#8216;arguments&#8217;].</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="action">
<h2>Action<a class="headerlink" href="#action" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.Action">
<em class="property">class </em><tt class="descclassname">models.</tt><tt class="descname">Action</tt><big>(</big><em>name</em>, <em>description</em>, <em>method</em>, <em>arguments_format</em><big>)</big><a class="headerlink" href="#models.Action" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used to wrap an action made available by a device.</p>
<dl class="method">
<dt id="models.Action.set">
<tt class="descname">set</tt><big>(</big><em>args</em><big>)</big><a class="headerlink" href="#models.Action.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Method enabling the user to change the name, the description and
the location of the device. The args must follow the format given in
device_infos[&#8216;arguments&#8217;].</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="device">
<h2>Device<a class="headerlink" href="#device" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.Device">
<em class="property">class </em><tt class="descclassname">models.</tt><tt class="descname">Device</tt><big>(</big><em>protocol</em><big>)</big><a class="headerlink" href="#models.Device" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for any Device.</p>
</dd></dl>

<div class="section" id="implementation-examples">
<h3>Implementation examples<a class="headerlink" href="#implementation-examples" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="interface">
<h2>Interface<a class="headerlink" href="#interface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.Interface">
<em class="property">class </em><tt class="descclassname">models.</tt><tt class="descname">Interface</tt><a class="headerlink" href="#models.Interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for any Interface. This class will be documented
later, once an Interface actually behaving like a plugin would
have been developed.</p>
</dd></dl>

<div class="section" id="id1">
<h3>Implementation examples<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="protocol">
<h2>Protocol<a class="headerlink" href="#protocol" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.Protocol">
<em class="property">class </em><tt class="descclassname">models.</tt><tt class="descname">Protocol</tt><a class="headerlink" href="#models.Protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>In the model used to design the box, a class deriving from 
<a class="reference internal" href="#models.Protocol" title="models.Protocol"><tt class="xref py py-class docutils literal"><span class="pre">models.Protocol</span></tt></a> implements all the functions that are 
necessary to make the box compatible with a new home automation
protocol. For instance, it is the protocol class of a given home
automation protocol     that should implement the methods necessary 
to the process of adding of a new device to the box.</p>
<p>The class <a class="reference internal" href="#models.Protocol" title="models.Protocol"><tt class="xref py py-class docutils literal"><span class="pre">models.Protocol</span></tt></a> defines the minimal public 
interface that any protocol class should implement, in order 
to allow other entities to use it.</p>
<p>It should <strong>not</strong> be directly instantiated.</p>
<p>Any protocol plugin should derive from it. To see what the actual
implementation of a protocol looks like, you may for instance refer
to the classes <a class="reference internal" href="../implementation_examples.html#protocols.nexa.Nexa" title="protocols.nexa.Nexa"><tt class="xref py py-class docutils literal"><span class="pre">protocols.nexa.Nexa</span></tt></a> and 
<a class="reference internal" href="../implementation_examples.html#protocols.oregon.Oregon" title="protocols.oregon.Oregon"><tt class="xref py py-class docutils literal"><span class="pre">protocols.oregon.Oregon</span></tt></a>.</p>
<dl class="method">
<dt id="models.Protocol.get_handled_devices">
<tt class="descname">get_handled_devices</tt><big>(</big><big>)</big><a class="headerlink" href="#models.Protocol.get_handled_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Presents the different types of devices handled by this protocol.</p>
<p>It does not mean that the user can instantiate them himself: some may 
not need interventiion of the user on the software part to be added
to the system. Still, this function lets the user know what kinds of
devices this protocol added support for.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of python dictionaries describing every type of device handled by this protocol</td>
</tr>
</tbody>
</table>
<p>The format of each python dictionary returned is the following:</p>
<ul class="simple">
<li>name</li>
<li>description</li>
<li>user_instantiable</li>
<li>(device_code)</li>
<li>(settings)</li>
</ul>
<p>The <cite>user_instantiable</cite> parameter is a <tt class="xref py py-class docutils literal"><span class="pre">boolean</span></tt>. It specified whether
or not the user can instantiate himself the device. For instance, if we take 
into consideration the <a class="reference internal" href="../implementation_examples.html#protocols.nexa.Nexa" title="protocols.nexa.Nexa"><tt class="xref py py-class docutils literal"><span class="pre">protocols.nexa.Nexa</span></tt></a> protocol, the NexaRemote 
cannot be instantied by the user; they are automatically detected by the system
when the user presses one of the button of the actual remote. On the other side, 
a NexaDevice can be instantiated by the user himself and he will then sync/pair 
it to an actual Nexa actuator.</p>
<p>The two last keys of the dictionary only exist if the device can be instantiated 
by the user, that is when the user_instantiable value is <tt class="xref py py-const docutils literal"><span class="pre">True</span></tt>.</p>
<ul class="simple">
<li><a href="#id2"><span class="problematic" id="id3">:param:`device_code`</span></a> is an integer which characterizes a type of device.</li>
</ul>
<p>It must be given as first argument at the call of the  
<tt class="xref py py-func docutils literal"><span class="pre">models.Protocol.add_device()</span></tt> function. This function creates a new 
device whose <a href="#id4"><span class="problematic" id="id5">:param:`device_code`</span></a> is the one given using the initial settings
given as argument.
* <a href="#id6"><span class="problematic" id="id7">:param:`settings`</span></a></p>
</dd></dl>

<dl class="method">
<dt id="models.Protocol.get_settings">
<tt class="descname">get_settings</tt><big>(</big><big>)</big><a class="headerlink" href="#models.Protocol.get_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Presents the available settings for this protocol and their
respectives types. For instance, the modem used to get radio messages
has to be manually set by the user when he initializes the protocol 
for the first time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary describing the available settings and their type</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="models.Protocol.set">
<tt class="descname">set</tt><big>(</big><em>settings</em><big>)</big><a class="headerlink" href="#models.Protocol.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the settings given as argument to the protocol.</p>
<p>The <cite>settings</cite> given as argument at function call must be a python
dictionary following the format described in the python dict 
returned by the <a class="reference internal" href="#models.Protocol.get_settings" title="models.Protocol.get_settings"><tt class="xref py py-func docutils literal"><span class="pre">models.Protocol.get_settings()</span></tt></a> function.</p>
<p>If the <cite>settings</cite> given are not valid, they are ignored and 
the function returns a dictionary containing the faulty keys.
For instance, settings may not be valid if you try giving a 
dictionary having a key which was not specified in the result of
<a class="reference internal" href="#models.Protocol.get_settings" title="models.Protocol.get_settings"><tt class="xref py py-func docutils literal"><span class="pre">models.Protocol.get_settings()</span></tt></a> or if the value of a setting
does not tally with the type requested in <a class="reference internal" href="#models.Protocol.get_settings" title="models.Protocol.get_settings"><tt class="xref py py-func docutils literal"><span class="pre">models.Protocol.get_settings()</span></tt></a>.</p>
<p>The <cite>settings</cite> dictionary given as argument may not contain every key
specified in the format dictionary. In this case, all the specified 
settings will me modified (on the condition they are valid) and the 
others will be left unchanged.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>settings</strong> (<tt class="xref py py-class docutils literal"><span class="pre">python</span> <span class="pre">dict</span></tt>) &#8211; The python dictionary containing the settings to apply.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the settings were correctly applied. A python dictionary containing the faulty settings otherwise.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">boolean</span></tt> or <tt class="xref py py-class docutils literal"><span class="pre">python</span> <span class="pre">dict</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="id8">
<h3>Implementation examples<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Example of implementation can be found here: <a class="reference internal" href="../implementation_examples.html#protocols.nexa.Nexa" title="protocols.nexa.Nexa"><tt class="xref py py-class docutils literal"><span class="pre">protocols.nexa.Nexa</span></tt></a> or <a class="reference internal" href="../implementation_examples.html#protocols.oregon.Oregon" title="protocols.oregon.Oregon"><tt class="xref py py-class docutils literal"><span class="pre">protocols.oregon.Oregon</span></tt></a>.</p>
</div>
</div>
<div class="section" id="driver">
<h2>Driver<a class="headerlink" href="#driver" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.Driver">
<em class="property">class </em><tt class="descclassname">models.</tt><tt class="descname">Driver</tt><a class="headerlink" href="#models.Driver" title="Permalink to this definition">¶</a></dt>
<dd><p>In the model used to design the box, a class deriving from 
<a class="reference internal" href="#models.Driver" title="models.Driver"><tt class="xref py py-class docutils literal"><span class="pre">models.Driver</span></tt></a> implements the way the box communicates 
with an external hardware part. Hardware parts may for instance 
be radio modems, as it is the case with the 
<a class="reference internal" href="../implementation_examples.html#drivers.arduino_radio.ArduinoRadio" title="drivers.arduino_radio.ArduinoRadio"><tt class="xref py py-class docutils literal"><span class="pre">drivers.arduino_radio.ArduinoRadio</span></tt></a> driver.</p>
<p>In the case of the hardware being a modem, this class has then
two main features to implement: the process of receiving a 
message and the process of sending one.
In the first case, the driver must implement the way it 
communicates with hardware parts. For the example of the
<a class="reference internal" href="../implementation_examples.html#drivers.arduino_radio.ArduinoRadio" title="drivers.arduino_radio.ArduinoRadio"><tt class="xref py py-class docutils literal"><span class="pre">drivers.arduino_radio.ArduinoRadio</span></tt></a>, the mini 
communication protocol used is described in the <tt class="xref doc docutils literal"><span class="pre">arduino</span></tt> section</p>
<p>Then, once the message has been recovered from the hardware part,
it must be transmitted to the protocols that use this 
hardware as a communication medium in order to get the
actual content of the message. This is implemented
through a &#8216;subscription&#8217; process: protocols subscribe to 
the driver they want to get their messages from when
they are initialized.</p>
<p>The class <a class="reference internal" href="#models.Driver" title="models.Driver"><tt class="xref py py-class docutils literal"><span class="pre">models.Driver</span></tt></a> defines the minimal public 
interface that any driver class should implement, in order 
to allow other entities to use it.</p>
<p>It should <strong>not</strong> be directly instantiated.</p>
<p>Any driver plugin should derive from it. To see what the actual
implementation of a drivers looks like, you may for instance refer
to the class <a class="reference internal" href="../implementation_examples.html#drivers.arduino_radio.ArduinoRadio" title="drivers.arduino_radio.ArduinoRadio"><tt class="xref py py-class docutils literal"><span class="pre">drivers.arduino_radio.ArduinoRadio</span></tt></a>.</p>
</dd></dl>

<div class="section" id="id9">
<h3>Implementation examples<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>An example of implementation can be found here: :class:drivers.arduino_radio.ArduinoRadio.</p>
</div>
</div>
<div class="section" id="custom-exceptions">
<h2>Custom exceptions<a class="headerlink" href="#custom-exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="models.AttributeNotSet">
<em class="property">class </em><tt class="descclassname">models.</tt><tt class="descname">AttributeNotSet</tt><a class="headerlink" href="#models.AttributeNotSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when an object tries to use an object whose
an attribute essential to its working has not yet been 
set. E.g. when you try sending a message with a modem
whose COM port has not been set.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Models</a><ul>
<li><a class="reference internal" href="#information">Information</a></li>
<li><a class="reference internal" href="#action">Action</a></li>
<li><a class="reference internal" href="#device">Device</a><ul>
<li><a class="reference internal" href="#implementation-examples">Implementation examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interface">Interface</a><ul>
<li><a class="reference internal" href="#id1">Implementation examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#protocol">Protocol</a><ul>
<li><a class="reference internal" href="#id8">Implementation examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#driver">Driver</a><ul>
<li><a class="reference internal" href="#id9">Implementation examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-exceptions">Custom exceptions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="kernel.html"
                        title="previous chapter">Kernel</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="scenario.html"
                        title="next chapter">Scenario</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/models.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="scenario.html" title="Scenario"
             >next</a> |</li>
        <li class="right" >
          <a href="kernel.html" title="Kernel"
             >previous</a> |</li>
        <li><a href="../index.html">RVVDomoticBox 0.0.1 documentation</a> &raquo;</li>
          <li><a href="../api.html" >API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Victor Creste, Raphaël Gautier and Valérian Justine.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>