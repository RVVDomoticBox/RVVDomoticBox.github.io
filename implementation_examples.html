<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Implementation examples &mdash; RVVDomoticBox 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="RVVDomoticBox 0.0.1 documentation" href="index.html" />
    <link rel="next" title="Software running on the Arduino" href="arduino.html" />
    <link rel="prev" title="Scenario" href="api/scenario.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="arduino.html" title="Software running on the Arduino"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api/scenario.html" title="Scenario"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">RVVDomoticBox 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="implementation-examples">
<h1>Implementation examples<a class="headerlink" href="#implementation-examples" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<div class="section" id="protocols">
<h2>Protocols<a class="headerlink" href="#protocols" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nexa">
<h3>Nexa<a class="headerlink" href="#nexa" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="protocols.nexa.Nexa">
<em class="property">class </em><tt class="descclassname">protocols.nexa.</tt><tt class="descname">Nexa</tt><big>(</big><em>kernel</em><big>)</big><a class="headerlink" href="#protocols.nexa.Nexa" title="Permalink to this definition">¶</a></dt>
<dd><p>Main class of a protocol plugin.</p>
<dl class="method">
<dt id="protocols.nexa.Nexa.add_device">
<tt class="descname">add_device</tt><big>(</big><em>device_id</em>, <em>args</em><big>)</big><a class="headerlink" href="#protocols.nexa.Nexa.add_device" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy method used to instantiate a new device. It raises a 
ValueError if the device_id given is out of range. It may raise 
a TypeError if the args given to set the new device don&#8217;t match 
the settings format.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.nexa.Nexa.decode_sequence">
<tt class="descname">decode_sequence</tt><big>(</big><em>sequence</em><big>)</big><a class="headerlink" href="#protocols.nexa.Nexa.decode_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a radio sequence received by the radio modem 
into a message understable by the protocol.
The implementation of the sequence processing is , for the
moment, a hard-coded finite-state machine.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.nexa.Nexa.get_devices">
<tt class="descname">get_devices</tt><big>(</big><big>)</big><a class="headerlink" href="#protocols.nexa.Nexa.get_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of devices that are currently handled 
by this protocol.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.nexa.Nexa.get_instantiable_devices">
<tt class="descname">get_instantiable_devices</tt><big>(</big><big>)</big><a class="headerlink" href="#protocols.nexa.Nexa.get_instantiable_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the devices instantiable by the user
of the driver. 
The list of user-instantiable devices is included in the 
list of the driver-handled devices but not necessarily 
equal.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.nexa.Nexa.get_set_arguments">
<tt class="descname">get_set_arguments</tt><big>(</big><big>)</big><a class="headerlink" href="#protocols.nexa.Nexa.get_set_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the arguments needed to set the driver.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.nexa.Nexa.send_command">
<tt class="descname">send_command</tt><big>(</big><em>device</em>, <em>command</em><big>)</big><a class="headerlink" href="#protocols.nexa.Nexa.send_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called when a device intends to send a message.
It builds up the Nexa message according to the command 
to be sent and the identity of the sending device.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.nexa.Nexa.set">
<tt class="descname">set</tt><big>(</big><em>args</em><big>)</big><a class="headerlink" href="#protocols.nexa.Nexa.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the driver. It raises a TypeError if the given modem doesn&#8217;t
match the awaited modem type.</p>
<p>Keyword arguments:
settings &#8211; the dictionary of settings used to set the driver. Its 
format is determined by the function get_set_arguments.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="oregon">
<h3>Oregon<a class="headerlink" href="#oregon" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="protocols.oregon.Oregon">
<em class="property">class </em><tt class="descclassname">protocols.oregon.</tt><tt class="descname">Oregon</tt><big>(</big><em>kernel</em><big>)</big><a class="headerlink" href="#protocols.oregon.Oregon" title="Permalink to this definition">¶</a></dt>
<dd><p>Main class of a protocol plugin.</p>
<dl class="method">
<dt id="protocols.oregon.Oregon.add_device">
<tt class="descname">add_device</tt><big>(</big><em>device_id</em>, <em>args</em><big>)</big><a class="headerlink" href="#protocols.oregon.Oregon.add_device" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy method used to instantiate a new device. It raises a 
ValueError if the device_id given is out of range. It may raise 
a TypeError if the args given to set the new device don&#8217;t match 
the settings format.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.oregon.Oregon.decode_sequence">
<tt class="descname">decode_sequence</tt><big>(</big><em>radio_sequence</em><big>)</big><a class="headerlink" href="#protocols.oregon.Oregon.decode_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a radio sequence received by the radio modem 
into a message understable by the protocol.
The implementation of the sequence processing is , for the
moment, a hard-coded finite-state machine.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.oregon.Oregon.get_devices">
<tt class="descname">get_devices</tt><big>(</big><big>)</big><a class="headerlink" href="#protocols.oregon.Oregon.get_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of devices that are currently handled 
by this protocol.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.oregon.Oregon.get_instantiable_devices">
<tt class="descname">get_instantiable_devices</tt><big>(</big><big>)</big><a class="headerlink" href="#protocols.oregon.Oregon.get_instantiable_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the devices instantiable by the user
of the driver. 
The list of user-instantiable devices is included in the 
list of the driver-handled devices but not necessarily 
equal.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.oregon.Oregon.get_set_arguments">
<tt class="descname">get_set_arguments</tt><big>(</big><big>)</big><a class="headerlink" href="#protocols.oregon.Oregon.get_set_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the arguments needed to set the driver.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.oregon.Oregon.send_command">
<tt class="descname">send_command</tt><big>(</big><em>device</em>, <em>command</em><big>)</big><a class="headerlink" href="#protocols.oregon.Oregon.send_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called when a device intends to send a message.
It builds up the Nexa message according to the command 
to be sent and the identity of the sending device.</p>
</dd></dl>

<dl class="method">
<dt id="protocols.oregon.Oregon.set">
<tt class="descname">set</tt><big>(</big><em>args</em><big>)</big><a class="headerlink" href="#protocols.oregon.Oregon.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the driver. It raises a TypeError if the given modem doesn&#8217;t
match the awaited modem type.</p>
<p>Keyword arguments:
settings &#8211; the dictionary of settings used to set the driver. Its 
format is determined by the function get_set_arguments.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="drivers">
<h2>Drivers<a class="headerlink" href="#drivers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="arduino-as-a-433mhz-am-transceiver">
<h3>Arduino as a 433MHz AM transceiver<a class="headerlink" href="#arduino-as-a-433mhz-am-transceiver" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="drivers.arduino_radio.ArduinoRadio">
<em class="property">class </em><tt class="descclassname">drivers.arduino_radio.</tt><tt class="descname">ArduinoRadio</tt><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio" title="Permalink to this definition">¶</a></dt>
<dd><p>Class implementing the interface between the computer
running the domotic box and the Arduino, which is used as 
a 433MHz radio modem.</p>
<dl class="method">
<dt id="drivers.arduino_radio.ArduinoRadio.attach">
<tt class="descname">attach</tt><big>(</big><em>observer</em><big>)</big><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio.attach" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the protocol object given as argument
to the list of protocols that receive their messages
through this modem. 
When the modem receives a radio sequence, it will 
send it to the whole list of its observers.</p>
</dd></dl>

<dl class="method">
<dt id="drivers.arduino_radio.ArduinoRadio.format_arg">
<tt class="descname">format_arg</tt><big>(</big><em>binary</em><big>)</big><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio.format_arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats a binary sequence so that it fits the format 
of the parameters of a command sent to the Arduino. This
method is called by the send_sequence method.</p>
</dd></dl>

<dl class="method">
<dt id="drivers.arduino_radio.ArduinoRadio.get_modem_name">
<tt class="descname">get_modem_name</tt><big>(</big><big>)</big><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio.get_modem_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the modem.</p>
</dd></dl>

<dl class="method">
<dt id="drivers.arduino_radio.ArduinoRadio.get_modem_type">
<tt class="descname">get_modem_type</tt><big>(</big><big>)</big><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio.get_modem_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the type of the modem.</p>
</dd></dl>

<dl class="method">
<dt id="drivers.arduino_radio.ArduinoRadio.get_set_arguments">
<tt class="descname">get_set_arguments</tt><big>(</big><big>)</big><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio.get_set_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dictionary of arguments that
have to be used in order to set this module.</p>
</dd></dl>

<dl class="method">
<dt id="drivers.arduino_radio.ArduinoRadio.notify_observers">
<tt class="descname">notify_observers</tt><big>(</big><em>sequence</em><big>)</big><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio.notify_observers" title="Permalink to this definition">¶</a></dt>
<dd><p>Notifies all the protocols that are observing this
modem that an incoming radio message has arrived.
The received sequence is given as argument so that each
protocol can handle the decoding.</p>
</dd></dl>

<dl class="method">
<dt id="drivers.arduino_radio.ArduinoRadio.send_sequence">
<tt class="descname">send_sequence</tt><big>(</big><em>sequence</em><big>)</big><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio.send_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the radio sequence given as an argument.
The sequence must be the following format :</p>
<blockquote>
<div><dl class="docutils">
<dt>sequence = [(int) number_of_repetitions,</dt>
<dd>(int) base_radio_pulse_length_in_microseconds,
(binary_string) symbol_1,
(binary_string) symbol_2,
...
(binary_string) symbol_n,
(symbols_list) symbol_coded_message]</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="drivers.arduino_radio.ArduinoRadio.set">
<tt class="descname">set</tt><big>(</big><em>args</em><big>)</big><a class="headerlink" href="#drivers.arduino_radio.ArduinoRadio.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the serial communication used by the domotic 
box to communicate with the Arduino. If the given COM
port number is not valid (i.e. it raises a SerialException
when we try to open the connection) the method raises 
the same serial.SerialException.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Implementation examples</a><ul>
<li><a class="reference internal" href="#protocols">Protocols</a><ul>
<li><a class="reference internal" href="#nexa">Nexa</a></li>
<li><a class="reference internal" href="#oregon">Oregon</a></li>
</ul>
</li>
<li><a class="reference internal" href="#drivers">Drivers</a><ul>
<li><a class="reference internal" href="#arduino-as-a-433mhz-am-transceiver">Arduino as a 433MHz AM transceiver</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="api/scenario.html"
                        title="previous chapter">Scenario</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="arduino.html"
                        title="next chapter">Software running on the Arduino</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/implementation_examples.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="arduino.html" title="Software running on the Arduino"
             >next</a> |</li>
        <li class="right" >
          <a href="api/scenario.html" title="Scenario"
             >previous</a> |</li>
        <li><a href="index.html">RVVDomoticBox 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Victor Creste, Raphaël Gautier and Valérian Justine.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>